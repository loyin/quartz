<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
    <meta charset="utf-8">
    <title>QuartzDemo Login</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/layui/css/layui.css"  media="all">
    <link rel="stylesheet" href="/css/login/reset.css">
    <link rel="stylesheet" href="/css/login/style.css">
    <script src="/layui/layui.js" charset="utf-8"></script>
    <script src="/jquery-3.3.1/jquery-3.3.1.min.js" charset="utf-8"></script>
</head>
<script type="text/javascript">
    layui.use('form', function(){
        var form = layui.form, util=layui.util, layer=layui.layer;

        //自定义验证规则
        form.verify({
            loginName: function(value){
                if(!value){
                    return '账号不能为空';
                }
            },
            password: function(value){
                if(!value){
                    return '密码不能为空';
                }
            },
        });

        //监听提交
        form.on('submit(submit)', function(data){
            $.ajax({
                url: "/login",
                data: $("#dataForm").serialize(),
                success: function(data){
                    if(data){
                        window.location.href = "/index"
                    } else {
                        layer.alert("登陆失败");
                        return;
                    }
                }
            })
            return false;
        });

    })
    function registerAccount(){ layer.msg('暂未开通账号注册，体验账号admin/admin！', { icon: 6 });}
    function forgetPassword() { layer.msg('密码都能忘掉还有B脸点这里？', { icon: 3});}
</script>
<body>
<div style="margin-top: 0px;">
    <div style="position:absolute;z-index:-1;width:100%;height:100%;">
        <img src="img/timg.jpg" width="100%" height="100%" style="opacity: 0.5"/>
    </div>
    <div style="padding-top: 200px;">
        <h1>QuartzDemo Login</h1>
        <form class="layui-form" id="dataForm" method="post">
            <input type="text" id="loginName" name="loginName" lay-verify="loginName" class="username" placeholder="请输入账号" autocomplete="off">
            <input type="password" id="password" name="password" lay-verify="password" class="password" placeholder="请输入密码" autocomplete="off">
            <button type="button" lay-submit="" lay-filter="submit">Sign In</button>
        </form>
        <div class="connect">
            <p>Or Connect With:</p>
            <p>
                <a href="javascript:forgetPassword();">忘记密码</a>
                <a href="javascript:registerAccount();" style="margin-left: 60px;">注册账号</a>
            </p>
        </div>
    </div>
</div>
</body>
</html>